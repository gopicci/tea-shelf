openapi: 3.0.2
info:
  title: Tea Shelf
  version: 0.1.0
  description: |
    # Introduction

    Tea Shelf is a **progressive web app** built with the intent to help users keep track of their collection of teas.
    This documentation offers an overview on the REST API that serves the backend, which is written in Python with
    **Django REST framework**.

    For a quick overview of how the database is structured please find a Django **ERD** [here](erd.html). Most
    entities models have views that are reachable from the APIs however some remain for staff only (SubcategoryName and
    VendorTrademark). Others are placeholders for future development (brewing sessions, Settings).

    The API offers token authentication and mostly CRUD operations revolving around the central model of Tea, which
    contains personal data a user might want to keep about a tea as well as some inherited from entries of other types
    (information on categories, origin, vendor, brewing). On top of that, to help streamline the creation process,
    the **vision parser** service gets text from an image with the help of Google Vision API and extracts relevant tea
    data from it, comparing it with existing category, subcategory, vendor entries and building a name. Far from being
    exact the algorithm often saves the user a lot of time entering form data and helps pointing to the right
    preexisting entries.

    The **frontend documentation** is available [here](https://teashelf.app/docs/web/), the **repository**
    [here](https://github.com/gopicci/tea-shelf/).

    ## API Categories

    The APIs are divided in separate tags, to make things easy to discover.

    These tags are mostly based around the models that the operations are supporting, which are:

    | Tag | Description |
    | ------------ |  -------------- |
    | [Tea](#tag--Tea) | Operations revolving around tea model |
    | [Categories](#tag--Categories) | Groups category and subcategory models operations |
    | [Origin](#tag--Origin) | The origin model represents a geographical location |
    | [Vendor](#tag--Vendor) | A tea vendor or brand |
    | [Brewing](#tag--Brewing) | Brewing information (water temperature, time...) |
    | [User](#tag--User) | User related operations |

    ## Authentication

    In order to be able to interact with the APIs, please login from [here](#post-/api/login/) first and enter the
    access token from your response in the apposite input of the [authentication section](#authentication).

tags:
  - name: Tea
    description: |
      Operations revolving around the tea model.

      A tea instance is user specific and contains information about a tea such as category, vendor, origin, user
      notes...

      Some of this data is based on other models and is represented in nested form.

      Apart from standard CRUD operations, this section offers access to vision parser, a service that extract tea
      related data from a picture containing it (a package or label).
  - name: Categories
    description: |
      Operations revolving around the category and subcategory models.

      Category instances are predefined and can only be read as a list. They contain basic info about major tea
      categories (i.e. black, oolong, green, etc.).

      Subcategory instances define more specific tea types (i.e. Darjeeling, Puerh, etc.). They are user based but can
      be public, when requesting a subcategory list the API will return all the public subcategories as well as the
      user specific ones.
  - name: Origin
    description: |
      Operations revolving around the origin model.

      The origin model contains data about a geographical location (name and coordinates) and it's structured in a way
      that it's compatible with Google Maps services, from which the API offers customized autocomplete and place
      details operations.

      Origin instances are nested in others and can be posted with a get or create approach.
  - name: Vendor
    description: |
      Operations revolving around the vendor model.

      Vendor instances are user based but can ben public, when requesting a vendor list the API will return all
      the public vendors as well as the user's ones.
  - name: Brewing
    description: |
      Operations revolving around the brewing model.

      The brewing model contains data about brewing suggestions. Brewing instances are nested in others and can be
      posted with a get or create approach.
  - name: User
    description: |
      Operations revolving around user authentication and data retrieval.
security:
  - Bearer: []
components:
  securitySchemes:
    Bearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT access token. The token is valid for 5 minutes.
paths:
  /api/user/:
    get:
      tags:
        - User
      summary: User details
      operationId: RetrieveUser
      description: View authentication details about the logged in user.
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  last_login:
                    type: string
                    format: date-time
                    readOnly: true
                  email:
                    type: string
                    format: email
                  is_active:
                    type: boolean
                    readOnly: true
                  joined_at:
                    type: string
                    format: date-time
                    readOnly: true
          description: ""
        "401":
          description: "Unauthorized"
  /api/brewing/{id}/:
    get:
      tags:
        - Brewing
      summary: Find brewing by ID
      operationId: RetrieveBrewing
      description: Retrieve a single brewing details.
      parameters:
        - name: id
          in: path
          required: true
          description: A unique integer value identifying the brewing.
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  temperature:
                    type: integer
                    maximum: 100
                    nullable: true
                    minimum: 0
                  weight:
                    type: number
                    nullable: true
                    minimum: 0
                  initial:
                    type: string
                    nullable: true
                  increments:
                    type: string
                    nullable: true
          description: ""
        "401":
          description: "Unauthorized"
        "404":
          description: "Not found"
  /api/origin/{id}/:
    get:
      tags:
        - Origin
      summary: Find origin by ID
      operationId: RetrieveOrigin
      description: Retrieve a single origin details.
      parameters:
        - name: id
          in: path
          required: true
          description: A unique integer value identifying the origin.
          schema:
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  is_public:
                    type: boolean
                    readOnly: true
                  country:
                    type: string
                    maxLength: 30
                  region:
                    type: string
                    maxLength: 50
                  locality:
                    type: string
                    maxLength: 50
                  latitude:
                    type: number
                    nullable: true
                  longitude:
                    type: number
                    nullable: true
                required:
                  - country
          description: ""
        "401":
          description: "Unauthorized"
        "404":
          description: "Not found"
  /api/category/:
    get:
      tags:
        - Categories
      summary: List categories
      operationId: listCategorys
      description: Category instances are predefined and can only be read as a list. They contain basic info about major
        tea categories (i.e. black, oolong, green, etc.).
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    gongfu_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                    western_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                    name:
                      enum:
                        - WHITE
                        - YELLOW
                        - GREEN
                        - OOLONG
                        - BLACK
                        - FERMENTED
                        - HERBAL
                        - SCENTED
                        - OTHER
                      readOnly: true
                    description:
                      type: string
                    description_source:
                      type: string
                      format: uri
                      maxLength: 100
                  required:
                    - gongfu_brewing
                    - western_brewing
          description: ""
        "401":
          description: "Unauthorized"
  /api/subcategory/:
    get:
      tags:
        - Categories
      summary: List subcategories
      operationId: listSubcategorys
      description: |
        Subcategory instances define more specific tea types (i.e. Darjeeling, Puerh, etc.).

        They are user based but can be public, when requesting a subcategory list the API will return all the public
        subcategories as well as the user's ones.
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    gongfu_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    western_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    origin:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        is_public:
                          type: boolean
                          readOnly: true
                        country:
                          type: string
                          maxLength: 30
                        region:
                          type: string
                          maxLength: 50
                        locality:
                          type: string
                          maxLength: 50
                        latitude:
                          type: number
                          nullable: true
                        longitude:
                          type: number
                          nullable: true
                      required:
                        - country
                      type: object
                      nullable: true
                    is_public:
                      type: boolean
                      readOnly: true
                    name:
                      type: string
                      maxLength: 50
                    translated_name:
                      type: string
                      maxLength: 50
                    description:
                      type: string
                    description_source:
                      type: string
                      format: uri
                      maxLength: 100
                    category:
                      type: integer
                      nullable: true
                  required:
                    - name
          description: ""
        "401":
          description: "Unauthorized"
    post:
      tags:
        - Categories
      summary: Create a subcategory
      operationId: CreateSubcategory
      description: Subcategory instances define more specific tea types (i.e. Darjeeling, Puerh, etc.).
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id001
              properties:
                gongfu_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                western_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                origin:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    country:
                      type: string
                      maxLength: 30
                    region:
                      type: string
                      maxLength: 50
                    locality:
                      type: string
                      maxLength: 50
                    latitude:
                      type: number
                      nullable: true
                    longitude:
                      type: number
                      nullable: true
                  required:
                    - country
                  type: object
                  nullable: true
                name:
                  type: string
                  maxLength: 50
                translated_name:
                  type: string
                  maxLength: 50
                description:
                  type: string
                description_source:
                  type: string
                  format: uri
                  maxLength: 100
                category:
                  type: integer
                  nullable: true
              required:
                - name
          application/x-www-form-urlencoded:
            schema: *id001
          multipart/form-data:
            schema: *id001
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  gongfu_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  western_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  origin:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      country:
                        type: string
                        maxLength: 30
                      region:
                        type: string
                        maxLength: 50
                      locality:
                        type: string
                        maxLength: 50
                      latitude:
                        type: number
                        nullable: true
                      longitude:
                        type: number
                        nullable: true
                    required:
                      - country
                    type: object
                    nullable: true
                  is_public:
                    type: boolean
                    readOnly: true
                  name:
                    type: string
                    maxLength: 50
                  translated_name:
                    type: string
                    maxLength: 50
                  description:
                    type: string
                  description_source:
                    type: string
                    format: uri
                    maxLength: 100
                  category:
                    type: integer
                    nullable: true
                required:
                  - name
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/vendor/:
    get:
      tags:
        - Vendor
      summary: List vendors
      operationId: listVendors
      description: |
        Vendor instances contain info about a tea vendor or brand.

        Vendor instances are user based but can ben public, when requesting a vendor list the API will return all
        the public vendors as well as the user's ones.
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    is_public:
                      type: boolean
                      readOnly: true
                    name:
                      type: string
                      maxLength: 50
                    website:
                      type: string
                      format: uri
                      maxLength: 50
                    popularity:
                      type: integer
                      maximum: 10
                      nullable: true
                      minimum: 0
                    origin:
                      type: integer
                      nullable: true
                  required:
                    - name
          description: ""
        "401":
          description: "Unauthorized"
    post:
      tags:
        - Vendor
      summary: Create a vendor
      operationId: CreateVendor
      description: Vendor instances contain info about a tea vendor or brand.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id002
              properties:
                name:
                  type: string
                  maxLength: 50
                website:
                  type: string
                  format: uri
                  maxLength: 50
                popularity:
                  type: integer
                  maximum: 10
                  nullable: true
                  minimum: 0
                origin:
                  type: integer
                  nullable: true
              required:
                - name
          application/x-www-form-urlencoded:
            schema: *id002
          multipart/form-data:
            schema: *id002
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  is_public:
                    type: boolean
                    readOnly: true
                  name:
                    type: string
                    maxLength: 50
                  website:
                    type: string
                    format: uri
                    maxLength: 50
                  popularity:
                    type: integer
                    maximum: 10
                    nullable: true
                    minimum: 0
                  origin:
                    type: integer
                    nullable: true
                required:
                  - name
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/tea/:
    get:
      tags:
        - Tea
      summary: List teas
      operationId: listTeas
      description: |
        Returns a list of user's teas. A tea instance contains information about a tea such as category, vendor, origin,
        user notes, etc.

        Some of this data is based on other models and is represented in nested form.
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    id:
                      type: string
                      format: uuid
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    image:
                      type: string
                      format: uri
                      nullable: true
                    gongfu_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    western_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    origin:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        is_public:
                          type: boolean
                          readOnly: true
                        country:
                          type: string
                          maxLength: 30
                        region:
                          type: string
                          maxLength: 50
                        locality:
                          type: string
                          maxLength: 50
                        latitude:
                          type: number
                          nullable: true
                        longitude:
                          type: number
                          nullable: true
                      required:
                        - country
                      type: object
                      nullable: true
                    subcategory:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        gongfu_brewing:
                          properties:
                            id:
                              type: integer
                              readOnly: true
                            temperature:
                              type: integer
                              maximum: 100
                              nullable: true
                              minimum: 0
                            weight:
                              type: number
                              nullable: true
                              minimum: 0
                            initial:
                              type: string
                              nullable: true
                            increments:
                              type: string
                              nullable: true
                          type: object
                          nullable: true
                        western_brewing:
                          properties:
                            id:
                              type: integer
                              readOnly: true
                            temperature:
                              type: integer
                              maximum: 100
                              nullable: true
                              minimum: 0
                            weight:
                              type: number
                              nullable: true
                              minimum: 0
                            initial:
                              type: string
                              nullable: true
                            increments:
                              type: string
                              nullable: true
                          type: object
                          nullable: true
                        origin:
                          properties:
                            id:
                              type: integer
                              readOnly: true
                            user:
                              type: string
                              format: uuid
                              readOnly: true
                            is_public:
                              type: boolean
                              readOnly: true
                            country:
                              type: string
                              maxLength: 30
                            region:
                              type: string
                              maxLength: 50
                            locality:
                              type: string
                              maxLength: 50
                            latitude:
                              type: number
                              nullable: true
                            longitude:
                              type: number
                              nullable: true
                          required:
                            - country
                          type: object
                          nullable: true
                        is_public:
                          type: boolean
                          readOnly: true
                        name:
                          type: string
                          maxLength: 50
                        translated_name:
                          type: string
                          maxLength: 50
                        description:
                          type: string
                        description_source:
                          type: string
                          format: uri
                          maxLength: 100
                        category:
                          type: integer
                          nullable: true
                      required:
                        - name
                      type: object
                      nullable: true
                    vendor:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        is_public:
                          type: boolean
                          readOnly: true
                        name:
                          type: string
                          maxLength: 50
                        website:
                          type: string
                          format: uri
                          maxLength: 50
                        popularity:
                          type: integer
                          maximum: 10
                          nullable: true
                          minimum: 0
                        origin:
                          type: integer
                          nullable: true
                      required:
                        - name
                      type: object
                      nullable: true
                    is_archived:
                      type: boolean
                    name:
                      type: string
                      maxLength: 50
                    year:
                      type: integer
                      maximum: 2100
                      minimum: 1900
                      nullable: true
                    gongfu_preferred:
                      type: boolean
                    created_on:
                      type: string
                      format: date-time
                      readOnly: true
                    last_consumed_on:
                      type: string
                      format: date-time
                      readOnly: true
                    price:
                      type: number
                      nullable: true
                      minimum: 0
                    weight_left:
                      type: number
                      nullable: true
                      minimum: 0
                    weight_consumed:
                      type: number
                      nullable: true
                      minimum: 0
                    rating:
                      type: integer
                      maximum: 10
                      nullable: true
                      minimum: 0
                    notes:
                      type: string
                      nullable: true
                      maxLength: 10000
                    category:
                      type: integer
                      nullable: true
                  required:
                    - name
          description: ""
        "401":
          description: "Unauthorized"
    post:
      tags:
        - Tea
      summary: Create a tea
      operationId: createTea
      description: |
        A tea instance contains information about a tea such as category, vendor, origin, user notes, etc.

        Some of this data is based on other models and is represented in nested form.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id003
              properties:
                image:
                  type: string
                  format: byte
                  nullable: true
                  description: Base64 encoded image
                gongfu_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                western_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                origin:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    country:
                      type: string
                      maxLength: 30
                    region:
                      type: string
                      maxLength: 50
                    locality:
                      type: string
                      maxLength: 50
                    latitude:
                      type: number
                      nullable: true
                    longitude:
                      type: number
                      nullable: true
                  required:
                    - country
                  type: object
                  nullable: true
                subcategory:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    gongfu_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    western_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    origin:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        country:
                          type: string
                          maxLength: 30
                        region:
                          type: string
                          maxLength: 50
                        locality:
                          type: string
                          maxLength: 50
                        latitude:
                          type: number
                          nullable: true
                        longitude:
                          type: number
                          nullable: true
                      required:
                        - country
                      type: object
                      nullable: true
                    name:
                      type: string
                      maxLength: 50
                    translated_name:
                      type: string
                      maxLength: 50
                    description:
                      type: string
                    description_source:
                      type: string
                      format: uri
                      maxLength: 100
                    category:
                      type: integer
                      nullable: true
                  required:
                    - name
                  type: object
                  nullable: true
                vendor:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    name:
                      type: string
                      maxLength: 50
                    website:
                      type: string
                      format: uri
                      maxLength: 50
                    popularity:
                      type: integer
                      maximum: 10
                      nullable: true
                      minimum: 0
                    origin:
                      type: integer
                      nullable: true
                  required:
                    - name
                  type: object
                  nullable: true
                is_archived:
                  type: boolean
                name:
                  type: string
                  maxLength: 50
                year:
                  type: integer
                  maximum: 2100
                  minimum: 1900
                  nullable: true
                gongfu_preferred:
                  type: boolean
                price:
                  type: number
                  nullable: true
                  minimum: 0
                weight_left:
                  type: number
                  nullable: true
                  minimum: 0
                weight_consumed:
                  type: number
                  nullable: true
                  minimum: 0
                rating:
                  type: integer
                  maximum: 10
                  nullable: true
                  minimum: 0
                notes:
                  type: string
                  nullable: true
                  maxLength: 10000
                category:
                  type: integer
                  nullable: true
              required:
                - name
          application/x-www-form-urlencoded:
            schema: *id003
          multipart/form-data:
            schema: *id003
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  image:
                    type: string
                    format: uri
                    nullable: true
                  gongfu_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  western_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  origin:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      country:
                        type: string
                        maxLength: 30
                      region:
                        type: string
                        maxLength: 50
                      locality:
                        type: string
                        maxLength: 50
                      latitude:
                        type: number
                        nullable: true
                      longitude:
                        type: number
                        nullable: true
                    required:
                      - country
                    type: object
                    nullable: true
                  subcategory:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      gongfu_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      western_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      origin:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          user:
                            type: string
                            format: uuid
                            readOnly: true
                          is_public:
                            type: boolean
                            readOnly: true
                          country:
                            type: string
                            maxLength: 30
                          region:
                            type: string
                            maxLength: 50
                          locality:
                            type: string
                            maxLength: 50
                          latitude:
                            type: number
                            nullable: true
                          longitude:
                            type: number
                            nullable: true
                        required:
                          - country
                        type: object
                        nullable: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      translated_name:
                        type: string
                        maxLength: 50
                      description:
                        type: string
                      description_source:
                        type: string
                        format: uri
                        maxLength: 100
                      category:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  vendor:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      website:
                        type: string
                        format: uri
                        maxLength: 50
                      popularity:
                        type: integer
                        maximum: 10
                        nullable: true
                        minimum: 0
                      origin:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  is_archived:
                    type: boolean
                  name:
                    type: string
                    maxLength: 50
                  year:
                    type: integer
                    maximum: 2100
                    minimum: 1900
                    nullable: true
                  gongfu_preferred:
                    type: boolean
                  created_on:
                    type: string
                    format: date-time
                    readOnly: true
                  last_consumed_on:
                    type: string
                    format: date-time
                    readOnly: true
                  price:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_left:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_consumed:
                    type: number
                    nullable: true
                    minimum: 0
                  rating:
                    type: integer
                    maximum: 10
                    nullable: true
                    minimum: 0
                  notes:
                    type: string
                    nullable: true
                    maxLength: 10000
                  category:
                    type: integer
                    nullable: true
                required:
                  - name
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/tea/{id}/:
    get:
      tags:
        - Tea
      summary: Find tea by ID
      operationId: retrieveTea
      description: |
        Returns a single tea instance.

        A tea instance contains information about a tea such as category, vendor, origin, user notes, etc.

        Some of this data is based on other models and is represented in nested form.
      parameters:
        - name: id
          in: path
          required: true
          description: A unique integer value in UUID format identifying the tea instance.
          schema:
            type: integer
            format: uuid
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  image:
                    type: string
                    format: uri
                    nullable: true
                  gongfu_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  western_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  origin:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      country:
                        type: string
                        maxLength: 30
                      region:
                        type: string
                        maxLength: 50
                      locality:
                        type: string
                        maxLength: 50
                      latitude:
                        type: number
                        nullable: true
                      longitude:
                        type: number
                        nullable: true
                    required:
                      - country
                    type: object
                    nullable: true
                  subcategory:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      gongfu_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      western_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      origin:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          user:
                            type: string
                            format: uuid
                            readOnly: true
                          is_public:
                            type: boolean
                            readOnly: true
                          country:
                            type: string
                            maxLength: 30
                          region:
                            type: string
                            maxLength: 50
                          locality:
                            type: string
                            maxLength: 50
                          latitude:
                            type: number
                            nullable: true
                          longitude:
                            type: number
                            nullable: true
                        required:
                          - country
                        type: object
                        nullable: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      translated_name:
                        type: string
                        maxLength: 50
                      description:
                        type: string
                      description_source:
                        type: string
                        format: uri
                        maxLength: 100
                      category:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  vendor:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      website:
                        type: string
                        format: uri
                        maxLength: 50
                      popularity:
                        type: integer
                        maximum: 10
                        nullable: true
                        minimum: 0
                      origin:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  is_archived:
                    type: boolean
                  name:
                    type: string
                    maxLength: 50
                  year:
                    type: integer
                    maximum: 2100
                    minimum: 1900
                    nullable: true
                  gongfu_preferred:
                    type: boolean
                  created_on:
                    type: string
                    format: date-time
                    readOnly: true
                  last_consumed_on:
                    type: string
                    format: date-time
                    readOnly: true
                  price:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_left:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_consumed:
                    type: number
                    nullable: true
                    minimum: 0
                  rating:
                    type: integer
                    maximum: 10
                    nullable: true
                    minimum: 0
                  notes:
                    type: string
                    nullable: true
                    maxLength: 10000
                  category:
                    type: integer
                    nullable: true
                required:
                  - name
          description: ""
        "401":
          description: "Unauthorized"
        "404":
          description: "Not found"
    put:
      tags:
        - Tea
      summary: Update an existing tea
      operationId: updateTea
      description: |
        A tea instance contains information about a tea such as category, vendor, origin, user notes, etc.

        Some of this data is based on other models and is represented in nested form.
      parameters:
        - name: id
          in: path
          description: A unique integer value in UUID format identifying the tea instance.
          schema:
            type: integer
            format: uuid
      requestBody:
        content:
          application/json:
            schema: &id004
              properties:
                image:
                  type: string
                  format: binary
                  nullable: true
                gongfu_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                western_brewing:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    temperature:
                      type: integer
                      maximum: 100
                      nullable: true
                      minimum: 0
                    weight:
                      type: number
                      nullable: true
                      minimum: 0
                    initial:
                      type: string
                      nullable: true
                    increments:
                      type: string
                      nullable: true
                  type: object
                  nullable: true
                origin:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    country:
                      type: string
                      maxLength: 30
                    region:
                      type: string
                      maxLength: 50
                    locality:
                      type: string
                      maxLength: 50
                    latitude:
                      type: number
                      nullable: true
                    longitude:
                      type: number
                      nullable: true
                  required:
                    - country
                  type: object
                  nullable: true
                subcategory:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    gongfu_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    western_brewing:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        temperature:
                          type: integer
                          maximum: 100
                          nullable: true
                          minimum: 0
                        weight:
                          type: number
                          nullable: true
                          minimum: 0
                        initial:
                          type: string
                          nullable: true
                        increments:
                          type: string
                          nullable: true
                      type: object
                      nullable: true
                    origin:
                      properties:
                        id:
                          type: integer
                          readOnly: true
                        user:
                          type: string
                          format: uuid
                          readOnly: true
                        country:
                          type: string
                          maxLength: 30
                        region:
                          type: string
                          maxLength: 50
                        locality:
                          type: string
                          maxLength: 50
                        latitude:
                          type: number
                          nullable: true
                        longitude:
                          type: number
                          nullable: true
                      required:
                        - country
                      type: object
                      nullable: true
                    name:
                      type: string
                      maxLength: 50
                    translated_name:
                      type: string
                      maxLength: 50
                    description:
                      type: string
                    description_source:
                      type: string
                      format: uri
                      maxLength: 100
                    category:
                      type: integer
                      nullable: true
                  required:
                    - name
                  type: object
                  nullable: true
                vendor:
                  properties:
                    id:
                      type: integer
                      readOnly: true
                    user:
                      type: string
                      format: uuid
                      readOnly: true
                    name:
                      type: string
                      maxLength: 50
                    website:
                      type: string
                      format: uri
                      maxLength: 50
                    popularity:
                      type: integer
                      maximum: 10
                      nullable: true
                      minimum: 0
                    origin:
                      type: integer
                      nullable: true
                  required:
                    - name
                  type: object
                  nullable: true
                is_archived:
                  type: boolean
                name:
                  type: string
                  maxLength: 50
                year:
                  type: integer
                  maximum: 2100
                  minimum: 1900
                  nullable: true
                gongfu_preferred:
                  type: boolean
                price:
                  type: number
                  nullable: true
                  minimum: 0
                weight_left:
                  type: number
                  nullable: true
                  minimum: 0
                weight_consumed:
                  type: number
                  nullable: true
                  minimum: 0
                rating:
                  type: integer
                  maximum: 10
                  nullable: true
                  minimum: 0
                notes:
                  type: string
                  nullable: true
                  maxLength: 10000
                category:
                  type: integer
                  nullable: true
              required:
                - name
          application/x-www-form-urlencoded:
            schema: *id004
          multipart/form-data:
            schema: *id004
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  image:
                    type: string
                    format: binary
                    nullable: true
                  gongfu_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  western_brewing:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      temperature:
                        type: integer
                        maximum: 100
                        nullable: true
                        minimum: 0
                      weight:
                        type: number
                        nullable: true
                        minimum: 0
                      initial:
                        type: string
                        nullable: true
                      increments:
                        type: string
                        nullable: true
                    type: object
                    nullable: true
                  origin:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      country:
                        type: string
                        maxLength: 30
                      region:
                        type: string
                        maxLength: 50
                      locality:
                        type: string
                        maxLength: 50
                      latitude:
                        type: number
                        nullable: true
                      longitude:
                        type: number
                        nullable: true
                    required:
                      - country
                    type: object
                    nullable: true
                  subcategory:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      gongfu_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      western_brewing:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          temperature:
                            type: integer
                            maximum: 100
                            nullable: true
                            minimum: 0
                          weight:
                            type: number
                            nullable: true
                            minimum: 0
                          initial:
                            type: string
                            nullable: true
                          increments:
                            type: string
                            nullable: true
                        type: object
                        nullable: true
                      origin:
                        properties:
                          id:
                            type: integer
                            readOnly: true
                          user:
                            type: string
                            format: uuid
                            readOnly: true
                          is_public:
                            type: boolean
                            readOnly: true
                          country:
                            type: string
                            maxLength: 30
                          region:
                            type: string
                            maxLength: 50
                          locality:
                            type: string
                            maxLength: 50
                          latitude:
                            type: number
                            nullable: true
                          longitude:
                            type: number
                            nullable: true
                        required:
                          - country
                        type: object
                        nullable: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      translated_name:
                        type: string
                        maxLength: 50
                      description:
                        type: string
                      description_source:
                        type: string
                        format: uri
                        maxLength: 100
                      category:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  vendor:
                    properties:
                      id:
                        type: integer
                        readOnly: true
                      user:
                        type: string
                        format: uuid
                        readOnly: true
                      is_public:
                        type: boolean
                        readOnly: true
                      name:
                        type: string
                        maxLength: 50
                      website:
                        type: string
                        format: uri
                        maxLength: 50
                      popularity:
                        type: integer
                        maximum: 10
                        nullable: true
                        minimum: 0
                      origin:
                        type: integer
                        nullable: true
                    required:
                      - name
                    type: object
                    nullable: true
                  is_archived:
                    type: boolean
                  name:
                    type: string
                    maxLength: 50
                  year:
                    type: integer
                    maximum: 2100
                    minimum: 1900
                    nullable: true
                  gongfu_preferred:
                    type: boolean
                  created_on:
                    type: string
                    format: date-time
                    readOnly: true
                  last_consumed_on:
                    type: string
                    format: date-time
                    readOnly: true
                  price:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_left:
                    type: number
                    nullable: true
                    minimum: 0
                  weight_consumed:
                    type: number
                    nullable: true
                    minimum: 0
                  rating:
                    type: integer
                    maximum: 10
                    nullable: true
                    minimum: 0
                  notes:
                    type: string
                    nullable: true
                    maxLength: 10000
                  category:
                    type: integer
                    nullable: true
                required:
                  - name
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
        "404":
          description: "Not found"
    delete:
      tags:
        - Tea
      summary: Delete a tea
      operationId: destroyTea
      description: Remove a tea instance.
      parameters:
        - name: id
          in: path
          required: true
          description: A unique integer value in UUID format identifying the tea instance.
          schema:
            type: integer
            format: uuid
      responses:
        "204":
          description: "No content"
        "401":
          description: "Unauthorized"
        "404":
          description: "Not found"
  /api/register/:
    post:
      tags:
        - User
      summary: Create a user
      operationId: CreateCustomUser
      description: Register a new user. Requires a valid email and both passwords to match.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id006
              properties:
                email:
                  type: string
                  format: email
                  description: User email
                password1:
                  type: string
                  writeOnly: true
                  description: User password
                password2:
                  type: string
                  writeOnly: true
                  description: Confirm user password
              required:
                - email
                - password1
                - password2
          application/x-www-form-urlencoded:
            schema: *id006
          multipart/form-data:
            schema: *id006
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  last_login:
                    type: string
                    format: date-time
                    readOnly: true
                  email:
                    type: string
                    format: email
                  is_active:
                    type: boolean
                    readOnly: true
                  joined_at:
                    type: string
                    format: date-time
                    readOnly: true
          description: ""
        "400":
          description: "Bad request"
  /api/update_password/:
    put:
      tags:
        - User
      summary: Update user password
      operationId: UpdateUserPassword
      description: Update authenticated user password. Requires both passwords to match.
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema: &id006
              properties:
                email:
                  type: string
                  format: email
                  description: User email
                password1:
                  type: string
                  writeOnly: true
                  description: New password
                password2:
                  type: string
                  writeOnly: true
                  description: Confirm new password
              required:
                - email
                - password1
                - password2
          application/x-www-form-urlencoded:
            schema: *id006
          multipart/form-data:
            schema: *id006
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: string
                    format: uuid
                    readOnly: true
                  last_login:
                    type: string
                    format: date-time
                    readOnly: true
                  email:
                    type: string
                    format: email
                  is_active:
                    type: boolean
                    readOnly: true
                  joined_at:
                    type: string
                    format: date-time
                    readOnly: true
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/password_reset/:
    post:
      tags:
        - User
      summary: Request a new password
      operationId: RequestUserPassword
      description: Request a password reset token at the provided email.
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema: &id006
              properties:
                email:
                  type: string
                  format: email
                  description: User email
              required:
                - email
          application/x-www-form-urlencoded:
            schema: *id006
          multipart/form-data:
            schema: *id006
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  status:
                    type: string
                    readOnly: true
          description: ""
        "400":
          description: "Bad request"
  /api/password_reset/confirm/:
    post:
      tags:
        - User
      summary: Update password with token
      operationId: UpdateUserPasswordToken
      description: Updates a user password without authentication using the requested token.
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema: &id006
              properties:
                password:
                  type: string
                  writeOnly: true
                  description: New password
                token:
                  type: string
                  description: Password reset token
              required:
                - password
                - token
          application/x-www-form-urlencoded:
            schema: *id006
          multipart/form-data:
            schema: *id006
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  status:
                    type: string
                    readOnly: true
          description: ""
        "400":
          description: "Bad request"
        "404":
          description: "Not found"
  /api/password_reset/validate_token/:
    post:
      tags:
        - User
      summary: Validate a password reset token
      operationId: ValidatePasswordResetToken
      description: Verifies if a password reset token is still valid.
      parameters: [ ]
      requestBody:
        content:
          application/json:
            schema: &id006
              properties:
                password:
                token:
                  type: string
                  description: Password reset token
                - token
          application/x-www-form-urlencoded:
            schema: *id006
          multipart/form-data:
            schema: *id006
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  status:
                    type: string
                    readOnly: true
          description: ""
        "400":
          description: "Bad request"
  /api/login/:
    post:
      tags:
        - User
      summary: Log in user
      operationId: CreateLogin
      description: If successful returns a new pair of tokens.
      parameters: []
      requestBody:
        content:
          multipart/form-data:
            schema: &id007
              properties:
                email:
                  type: string
                  description: The user email for login
                password:
                  type: string
                  description: The password for login in clear text
              required:
                - email
                - password
          application/x-www-form-urlencoded:
            schema: *id007
          application/json:
            schema: *id007
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  refresh:
                    type: string
                  access:
                    type: string
                required:
                  - refresh
                  - access
          description: ""
        "400":
          description: "Bad request"
  /api/token/refresh/:
    post:
      tags:
        - User
      summary: Refresh access token
      operationId: CreateTokenRefresh
      description: |
        Takes a refresh type JSON web token and returns an access type one if the refresh token is valid.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id008
              properties:
                refresh:
                  type: string
                  description: JWT refresh token
              required:
                - refresh
          application/x-www-form-urlencoded:
            schema: *id008
          multipart/form-data:
            schema: *id008
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  access:
                    type: string
                required:
                  - access
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/brewing/:
    post:
      tags:
        - Brewing
      summary: Create a brewing
      operationId: CreateBrewing
      description: Brewing instances are unique and get posted with a get or create method.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id009
              properties:
                temperature:
                  type: integer
                  maximum: 100
                  nullable: true
                  minimum: 0
                weight:
                  type: number
                  nullable: true
                  minimum: 0
                initial:
                  type: integer
                  nullable: true
                  description: Time in seconds
                increments:
                  type: integer
                  nullable: true
                  description: Time in seconds
          application/x-www-form-urlencoded:
            schema: *id009
          multipart/form-data:
            schema: *id009
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  temperature:
                    type: integer
                    maximum: 100
                    nullable: true
                    minimum: 0
                  weight:
                    type: number
                    nullable: true
                    minimum: 0
                  initial:
                    type: string
                    nullable: true
                  increments:
                    type: string
                    nullable: true
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/origin/:
    post:
      tags:
        - Origin
      summary: Create an origin
      operationId: CreateOrigin
      description: |
        Origin instances are unique and get posted with a get or create method, based on country, region and
        locality fields.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id010
              properties:
                country:
                  type: string
                  maxLength: 30
                region:
                  type: string
                  maxLength: 50
                locality:
                  type: string
                  maxLength: 50
                latitude:
                  type: number
                  nullable: true
                longitude:
                  type: number
                  nullable: true
              required:
                - country
          application/x-www-form-urlencoded:
            schema: *id010
          multipart/form-data:
            schema: *id010
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  id:
                    type: integer
                    readOnly: true
                  user:
                    type: string
                    format: uuid
                    readOnly: true
                  is_public:
                    type: boolean
                    readOnly: true
                  country:
                    type: string
                    maxLength: 30
                  region:
                    type: string
                    maxLength: 50
                  locality:
                    type: string
                    maxLength: 50
                  latitude:
                    type: number
                    nullable: true
                  longitude:
                    type: number
                    nullable: true
                required:
                  - country
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/parser/:
    post:
      tags:
        - Tea
      summary: Extract tea data from image
      operationId: CreateVisionParser
      description: |
        Uses Google Vision API to grab text from an image from which it extracts relevant tea data, such as
        categories, name, year, vendor.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id011
              properties:
                image:
                  type: string
                  format: byte
                  description: Base64 encoded image
              required:
                - image
          application/x-www-form-urlencoded:
            schema: *id011
          multipart/form-data:
            schema: *id011
      responses:
        "200":
          content:
            application/json:
              schema:
                properties:
                  dtd:
                    type: object
                    description: Reduced Google Vision data
                    nullable: true
                    properties:
                      blocks:
                        type: array
                        nullable: true
                        items:
                          properties:
                            phrases:
                              type: array
                              nullable: true
                              items:
                                properties:
                                  words:
                                    type: array
                                    items:
                                      type: string
                                      nullable: true
                                  font_size:
                                    type: float
                                    nullable: true
                                  confidence:
                                    type: float
                                    minimum: 0
                                    maximum: 1
                                    nullable: true
                  subcategory:
                    type: integer
                    description: Matched subcategory ID
                    nullable: true
                  subcategory_confidence:
                    type: number
                    minimum: 0
                    maximum: 1
                    nullable: true
                  category:
                    type: integer
                    description: Matched category ID
                    nullable: true
                  category_confidence:
                    type: number
                    minimum: 0
                    maximum: 1
                    nullable: true
                  vendor:
                    type: integer
                    description: Matched vendor ID
                    nullable: true
                  vendor_confidence:
                    type: number
                    minimum: 0
                    maximum: 1
                    nullable: true
                  year:
                    type: integer
                    description: Guessed year
                    nullable: true
                  name:
                    type: string
                    description: Guessed name
                    nullable: true
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/places/autocomplete/:
    post:
      tags:
        - Origin
      summary: Get possible origins
      operationId: CreatePlacesAutocomplete
      description: Uses Google Places API to return a list of possible origins from a partial name.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id011
              properties:
                input:
                  type: string
                  description: Partial origin name to search for
                token:
                  type: string
                  description: Used to group related Google Places API requests into the same session
              required:
                - input
                - token
          application/x-www-form-urlencoded:
            schema: *id011
          multipart/form-data:
            schema: *id011
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    description:
                      type: string
                      nullable: true
                    matched_substrings:
                      type: array
                      nullable: true
                      items:
                        properties:
                          length:
                            type: integer
                          offset:
                            type: integer
                    place_id:
                      type: string
                      nullable: true
                    reference:
                      type: string
                      nullable: true
                    structured_formatting:
                      properties:
                        main_text:
                          type: string
                          nullable: true
                        main_text_matched_substrings:
                          type: array
                          nullable: true
                          items:
                            properties:
                              length:
                                type: integer
                              offset:
                                type: integer
                        secondary_text:
                          type: string
                          nullable: true
                    terms:
                      type: array
                      nullable: true
                      items:
                        properties:
                          offset:
                            type: integer
                          value:
                            type: string
                    "types":
                      type: array
                      nullable: true
                      items:
                        type: string
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
  /api/places/details/:
    post:
      tags:
        - Origin
      summary: Get origin details
      operationId: CreatePlacesDetails
      description: Uses Google Places API to return an origin data from a name.
      parameters: []
      requestBody:
        content:
          application/json:
            schema: &id012
              properties:
                place_id:
                  type: string
                  description: ID of the place to retrieve
                token:
                  type: string
                  description: Used to group related Google Places API requests into the same session
              required:
                - place_id
                - token
          application/x-www-form-urlencoded:
            schema: *id012
          multipart/form-data:
            schema: *id012
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    html_attributions:
                      type: array
                      items:
                        type: string
                        nullable: true
                    result:
                      properties:
                        adr_address:
                          type: string
                        geometry:
                          properties:
                            location:
                              properties:
                                lat:
                                  type: number
                                lng:
                                  type: number
                            viewport:
                              properties:
                                northeast:
                                  properties:
                                    lat:
                                      type: number
                                    lng:
                                      type: number
                                southwest:
                                  properties:
                                    lat:
                                      type: number
                                    lng:
                                      type: number

                    status:
                      type: string
          description: ""
        "400":
          description: "Bad request"
        "401":
          description: "Unauthorized"
